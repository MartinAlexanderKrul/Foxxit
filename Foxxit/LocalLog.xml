2020-12-11 16:37:56.546 +01:00 [INF] Starting web host
2020-12-11 16:37:58.574 +01:00 [FTL] Host terminated unexpectedly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: Foxxit.Services.SearchService Lifetime: Transient ImplementationType: Foxxit.Services.SearchService': Unable to resolve service for type 'Foxxit.Repositories.CommentRepository' while attempting to activate 'Foxxit.Services.SearchService'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Foxxit.Services.SearchService Lifetime: Transient ImplementationType: Foxxit.Services.SearchService': Unable to resolve service for type 'Foxxit.Repositories.CommentRepository' while attempting to activate 'Foxxit.Services.SearchService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Foxxit.Repositories.CommentRepository' while attempting to activate 'Foxxit.Services.SearchService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Foxxit.Program.Main(String[] args) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Program.cs:line 51
2020-12-11 16:39:01.602 +01:00 [INF] Starting web host
2020-12-11 16:39:03.718 +01:00 [DBG] Hosting starting
2020-12-11 16:39:03.789 +01:00 [INF] User profile is available. Using 'C:\Users\MartinAlexander\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-11 16:39:04.407 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 16:39:04.408 +01:00 [INF] Hosting environment: Development
2020-12-11 16:39:04.408 +01:00 [INF] Content root path: C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit
2020-12-11 16:39:04.408 +01:00 [DBG] Hosting started
2020-12-11 16:39:04.482 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/ - -
2020-12-11 16:39:04.657 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:39:04.768 +01:00 [INF] Route matched with {action = "Index", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 16:39:04.984 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 16:39:06.139 +01:00 [DBG] The index {'UserId'} was not created on entity type 'UserSubReddit' as the properties are already covered by the index {'UserId', 'SubRedditId'}.
2020-12-11 16:39:06.140 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2020-12-11 16:39:06.140 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2020-12-11 16:39:06.140 +01:00 [DBG] The index {'MembersId'} was not created on entity type 'SubRedditUser (Dictionary<string, object>)' as the properties are already covered by the index {'MembersId', 'SubRedditsId'}.
2020-12-11 16:39:06.289 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Comment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:39:06.290 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'Post'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:39:06.290 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'UserSubReddit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:39:06.290 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Vote'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:39:06.357 +01:00 [DBG] The property 'CommentId.Comment' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:39:06.357 +01:00 [DBG] The property 'Discriminator.PostBase' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:39:06.357 +01:00 [DBG] The property 'Discriminator.IdentityRole<long>' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:39:06.358 +01:00 [DBG] The property 'MembersId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:39:06.358 +01:00 [DBG] The property 'SubRedditsId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:39:06.603 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 16:39:06.619 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Index (Foxxit) in 1841.928ms
2020-12-11 16:39:06.622 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:39:06.624 +01:00 [ERR] HTTP GET / responded 500 in 1967.1787 ms
System.InvalidOperationException: Unable to resolve service for type 'Foxxit.Services.PostService' while attempting to activate 'Foxxit.Controllers.FoxxitController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method8(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2020-12-11 16:39:06.684 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Foxxit.Services.PostService' while attempting to activate 'Foxxit.Controllers.FoxxitController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method8(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-12-11 16:39:06.800 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 16:39:06.805 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/ - - - 500 - text/html;+charset=utf-8 2326.1368ms
2020-12-11 16:39:07.384 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/favicon.ico - -
2020-12-11 16:39:07.389 +01:00 [INF] HTTP GET /favicon.ico responded 404 in 0.0972 ms
2020-12-11 16:39:07.395 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/favicon.ico - - - 404 - - 7.3930ms
2020-12-11 16:39:58.328 +01:00 [INF] Starting web host
2020-12-11 16:40:00.332 +01:00 [DBG] Hosting starting
2020-12-11 16:40:00.401 +01:00 [INF] User profile is available. Using 'C:\Users\MartinAlexander\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-11 16:40:00.849 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 16:40:00.849 +01:00 [INF] Hosting environment: Development
2020-12-11 16:40:00.849 +01:00 [INF] Content root path: C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit
2020-12-11 16:40:00.849 +01:00 [DBG] Hosting started
2020-12-11 16:40:00.918 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/ - -
2020-12-11 16:40:01.035 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:40:01.119 +01:00 [INF] Route matched with {action = "Index", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 16:40:01.270 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 16:40:02.271 +01:00 [DBG] The index {'UserId'} was not created on entity type 'UserSubReddit' as the properties are already covered by the index {'UserId', 'SubRedditId'}.
2020-12-11 16:40:02.271 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2020-12-11 16:40:02.271 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2020-12-11 16:40:02.271 +01:00 [DBG] The index {'MembersId'} was not created on entity type 'SubRedditUser (Dictionary<string, object>)' as the properties are already covered by the index {'MembersId', 'SubRedditsId'}.
2020-12-11 16:40:02.412 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Comment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:40:02.412 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'Post'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:40:02.413 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'UserSubReddit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:40:02.413 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Vote'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:40:02.481 +01:00 [DBG] The property 'CommentId.Comment' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:40:02.481 +01:00 [DBG] The property 'Discriminator.PostBase' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:40:02.481 +01:00 [DBG] The property 'Discriminator.IdentityRole<long>' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:40:02.481 +01:00 [DBG] The property 'MembersId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:40:02.482 +01:00 [DBG] The property 'SubRedditsId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:40:02.721 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 16:40:02.731 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Index (Foxxit) in 1605.8869ms
2020-12-11 16:40:02.735 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:40:02.740 +01:00 [ERR] HTTP GET / responded 500 in 1702.4626 ms
System.InvalidOperationException: Unable to resolve service for type 'Foxxit.Services.PostService' while attempting to activate 'Foxxit.Controllers.FoxxitController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method8(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2020-12-11 16:40:02.788 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Foxxit.Services.PostService' while attempting to activate 'Foxxit.Controllers.FoxxitController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method8(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-12-11 16:40:02.902 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 16:40:02.913 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/ - - - 500 - text/html;+charset=utf-8 1997.8148ms
2020-12-11 16:40:45.105 +01:00 [INF] Starting web host
2020-12-11 16:40:47.645 +01:00 [DBG] Hosting starting
2020-12-11 16:40:47.768 +01:00 [INF] User profile is available. Using 'C:\Users\MartinAlexander\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-11 16:40:48.330 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 16:40:48.330 +01:00 [INF] Hosting environment: Development
2020-12-11 16:40:48.330 +01:00 [INF] Content root path: C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit
2020-12-11 16:40:48.330 +01:00 [DBG] Hosting started
2020-12-11 16:40:48.426 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/ - -
2020-12-11 16:40:48.655 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:40:48.786 +01:00 [INF] Route matched with {action = "Index", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 16:40:49.040 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 16:40:51.137 +01:00 [DBG] The index {'UserId'} was not created on entity type 'UserSubReddit' as the properties are already covered by the index {'UserId', 'SubRedditId'}.
2020-12-11 16:40:51.137 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2020-12-11 16:40:51.137 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2020-12-11 16:40:51.137 +01:00 [DBG] The index {'MembersId'} was not created on entity type 'SubRedditUser (Dictionary<string, object>)' as the properties are already covered by the index {'MembersId', 'SubRedditsId'}.
2020-12-11 16:40:51.386 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Comment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:40:51.387 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'Post'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:40:51.388 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'UserSubReddit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:40:51.388 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Vote'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:40:51.530 +01:00 [DBG] The property 'CommentId.Comment' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:40:51.531 +01:00 [DBG] The property 'Discriminator.PostBase' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:40:51.531 +01:00 [DBG] The property 'Discriminator.IdentityRole<long>' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:40:51.531 +01:00 [DBG] The property 'MembersId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:40:51.531 +01:00 [DBG] The property 'SubRedditsId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:40:51.932 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 16:40:51.956 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Index (Foxxit) in 3151.3366ms
2020-12-11 16:40:51.960 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:40:51.964 +01:00 [ERR] HTTP GET / responded 500 in 3307.5322 ms
System.InvalidOperationException: Unable to resolve service for type 'Foxxit.Services.SubRedditService' while attempting to activate 'Foxxit.Controllers.FoxxitController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method8(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2020-12-11 16:40:52.034 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Foxxit.Services.SubRedditService' while attempting to activate 'Foxxit.Controllers.FoxxitController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method8(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-12-11 16:40:52.197 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 16:40:52.202 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/ - - - 500 - text/html;+charset=utf-8 3781.6226ms
2020-12-11 16:41:18.353 +01:00 [INF] Starting web host
2020-12-11 16:41:20.597 +01:00 [DBG] Hosting starting
2020-12-11 16:41:20.661 +01:00 [INF] User profile is available. Using 'C:\Users\MartinAlexander\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-11 16:41:21.032 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 16:41:21.033 +01:00 [INF] Hosting environment: Development
2020-12-11 16:41:21.033 +01:00 [INF] Content root path: C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit
2020-12-11 16:41:21.033 +01:00 [DBG] Hosting started
2020-12-11 16:41:21.095 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/ - -
2020-12-11 16:41:21.227 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:41:21.299 +01:00 [INF] Route matched with {action = "Index", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 16:41:21.451 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 16:41:22.436 +01:00 [DBG] The index {'UserId'} was not created on entity type 'UserSubReddit' as the properties are already covered by the index {'UserId', 'SubRedditId'}.
2020-12-11 16:41:22.437 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2020-12-11 16:41:22.437 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2020-12-11 16:41:22.437 +01:00 [DBG] The index {'MembersId'} was not created on entity type 'SubRedditUser (Dictionary<string, object>)' as the properties are already covered by the index {'MembersId', 'SubRedditsId'}.
2020-12-11 16:41:22.571 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Comment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:41:22.572 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'Post'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:41:22.572 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'UserSubReddit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:41:22.572 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Vote'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:41:22.634 +01:00 [DBG] The property 'CommentId.Comment' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:41:22.634 +01:00 [DBG] The property 'Discriminator.PostBase' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:41:22.634 +01:00 [DBG] The property 'Discriminator.IdentityRole<long>' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:41:22.634 +01:00 [DBG] The property 'MembersId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:41:22.634 +01:00 [DBG] The property 'SubRedditsId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:41:22.856 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 16:41:22.915 +01:00 [INF] Executing ViewResult, running view Index.
2020-12-11 16:41:23.123 +01:00 [INF] Executed ViewResult - view Index executed in 209.8858ms.
2020-12-11 16:41:23.127 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Index (Foxxit) in 1826.6575ms
2020-12-11 16:41:23.128 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:41:23.131 +01:00 [INF] HTTP GET / responded 200 in 1903.7766 ms
2020-12-11 16:41:23.139 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 16:41:23.143 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/ - - - 200 - text/html;+charset=utf-8 2052.4619ms
2020-12-11 16:41:39.161 +01:00 [INF] Starting web host
2020-12-11 16:41:41.256 +01:00 [DBG] Hosting starting
2020-12-11 16:41:41.381 +01:00 [INF] User profile is available. Using 'C:\Users\MartinAlexander\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-11 16:41:41.784 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 16:41:41.784 +01:00 [INF] Hosting environment: Development
2020-12-11 16:41:41.784 +01:00 [INF] Content root path: C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit
2020-12-11 16:41:41.784 +01:00 [DBG] Hosting started
2020-12-11 16:41:41.841 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/ - -
2020-12-11 16:41:41.969 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:41:42.051 +01:00 [INF] Route matched with {action = "Index", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 16:41:42.224 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 16:41:43.183 +01:00 [DBG] The index {'UserId'} was not created on entity type 'UserSubReddit' as the properties are already covered by the index {'UserId', 'SubRedditId'}.
2020-12-11 16:41:43.183 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2020-12-11 16:41:43.183 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2020-12-11 16:41:43.183 +01:00 [DBG] The index {'MembersId'} was not created on entity type 'SubRedditUser (Dictionary<string, object>)' as the properties are already covered by the index {'MembersId', 'SubRedditsId'}.
2020-12-11 16:41:43.311 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Comment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:41:43.311 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'Post'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:41:43.312 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'UserSubReddit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:41:43.312 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Vote'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:41:43.389 +01:00 [DBG] The property 'CommentId.Comment' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:41:43.389 +01:00 [DBG] The property 'Discriminator.PostBase' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:41:43.389 +01:00 [DBG] The property 'Discriminator.IdentityRole<long>' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:41:43.389 +01:00 [DBG] The property 'MembersId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:41:43.389 +01:00 [DBG] The property 'SubRedditsId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:41:43.734 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 16:41:43.817 +01:00 [INF] Executing ViewResult, running view Index.
2020-12-11 16:41:44.198 +01:00 [INF] Executed ViewResult - view Index executed in 383.876ms.
2020-12-11 16:41:44.203 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Index (Foxxit) in 2151.6717ms
2020-12-11 16:41:44.205 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:41:44.211 +01:00 [INF] HTTP GET / responded 200 in 2241.6190 ms
2020-12-11 16:41:44.236 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 16:41:44.243 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/ - - - 200 - text/html;+charset=utf-8 2406.0671ms
2020-12-11 16:41:44.266 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/css/MainStyles.css - -
2020-12-11 16:41:44.319 +01:00 [INF] Sending file. Request path: '/css/MainStyles.css'. Physical path: 'C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\wwwroot\css\MainStyles.css'
2020-12-11 16:41:44.320 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/css/MainStyles.css - - - 200 5587 text/css 53.3660ms
2020-12-11 16:41:44.478 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/assets/logo.png - -
2020-12-11 16:41:44.479 +01:00 [INF] The file /assets/logo.png was not modified
2020-12-11 16:41:44.480 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/assets/logo.png - - - 304 - image/png 2.9000ms
2020-12-11 16:41:44.651 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/assets/search.png - -
2020-12-11 16:41:44.651 +01:00 [INF] The file /assets/search.png was not modified
2020-12-11 16:41:44.652 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/assets/search.png - - - 304 - image/png 0.9246ms
2020-12-11 16:43:32.515 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 195
2020-12-11 16:43:32.560 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 16:43:32.584 +01:00 [INF] Route matched with {action = "Search", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(System.String, System.String) on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 16:43:32.628 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 16:43:32.820 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => EF.Property<long>(e, "Id") == __p_0)'
2020-12-11 16:43:33.044 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.About (string), 1], [Property: User.AccessFailedCount (int) Required, 2], [Property: User.AvatarURL (string), 3], [Property: User.ConcurrencyStamp (string) Concurrency, 4], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 5], [Property: User.DisplayName (string), 6], [Property: User.Email (string) MaxLength(256), 7], [Property: User.EmailConfirmed (bool) Required, 8], [Property: User.IsDeleted (bool) Required, 9], [Property: User.Karma (int) Required, 10], [Property: User.LockoutEnabled (bool) Required, 11], [Property: User.LockoutEnd (Nullable<DateTimeOffset>), 12], [Property: User.NormalizedEmail (string) Index MaxLength(256), 13], [Property: User.NormalizedUserName (string) Index MaxLength(256), 14], [Property: User.PasswordHash (string), 15], [Property: User.PhoneNumber (string), 16], [Property: User.PhoneNumberConfirmed (bool) Required, 17], [Property: User.SecurityStamp (string), 18], [Property: User.TwoFactorEnabled (bool) Required, 19], [Property: User.UserName (string) MaxLength(256), 20], }
            SELECT TOP(1) a.Id, a.About, a.AccessFailedCount, a.AvatarURL, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsDeleted, a.Karma, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE Not(a.IsDeleted) && (a.Id == @__p_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Foxxit.Database.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-11 16:43:33.103 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 16:43:33.170 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (61ms).
2020-12-11 16:43:33.200 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 16:43:35.156 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 16:43:35.173 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[About], [a].[AccessFailedCount], [a].[AvatarURL], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsDeleted], [a].[Karma], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ([a].[Id] = @__p_0)
2020-12-11 16:43:35.273 +01:00 [ERR] Failed executing DbCommand (104ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[About], [a].[AccessFailedCount], [a].[AvatarURL], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsDeleted], [a].[Karma], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ([a].[Id] = @__p_0)
2020-12-11 16:43:35.279 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 16:43:35.290 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 16:43:35.346 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Foxxit.Database.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:b00ded68-bd9e-4f82-a26d-a6c031f4daaa
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:b00ded68-bd9e-4f82-a26d-a6c031f4daaa
Error Number:207,State:1,Class:16
2020-12-11 16:43:35.571 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Search (Foxxit) in 2986.9523ms
2020-12-11 16:43:35.572 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 16:43:35.572 +01:00 [ERR] HTTP POST /search responded 500 in 3012.1793 ms
System.AggregateException: One or more errors occurred. (Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.)
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Foxxit.Controllers.MainController.GetActiveUserAsync() in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Controllers\MainController.cs:line 24
ClientConnectionId:b00ded68-bd9e-4f82-a26d-a6c031f4daaa
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Foxxit.Controllers.FoxxitController.Search(String category, String keyword) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Controllers\FoxxitController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2020-12-11 16:43:35.604 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.)
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Foxxit.Controllers.MainController.GetActiveUserAsync() in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Controllers\MainController.cs:line 24
ClientConnectionId:b00ded68-bd9e-4f82-a26d-a6c031f4daaa
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Foxxit.Controllers.FoxxitController.Search(String category, String keyword) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Controllers\FoxxitController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-12-11 16:43:35.661 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 16:43:35.662 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 195 - 500 - text/html;+charset=utf-8 3149.6081ms
2020-12-11 16:44:26.055 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/account/login - -
2020-12-11 16:44:26.074 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.AccountController.Login (Foxxit)'
2020-12-11 16:44:26.076 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller Foxxit.Controllers.AccountController (Foxxit).
2020-12-11 16:44:26.093 +01:00 [INF] Executing ViewResult, running view Login.
2020-12-11 16:44:26.143 +01:00 [INF] Executed ViewResult - view Login executed in 50.787ms.
2020-12-11 16:44:26.143 +01:00 [INF] Executed action Foxxit.Controllers.AccountController.Login (Foxxit) in 66.9809ms
2020-12-11 16:44:26.143 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.AccountController.Login (Foxxit)'
2020-12-11 16:44:26.143 +01:00 [INF] HTTP GET /account/login responded 200 in 69.8678 ms
2020-12-11 16:44:26.144 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/account/login - - - 200 - text/html;+charset=utf-8 89.2913ms
2020-12-11 16:44:34.828 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/account/register - -
2020-12-11 16:44:34.832 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2020-12-11 16:44:34.832 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2020-12-11 16:44:34.832 +01:00 [INF] HTTP GET /account/register responded 405 in 0.8434 ms
2020-12-11 16:44:34.836 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/account/register - - - 405 - - 7.9269ms
2020-12-11 16:44:39.364 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/account/registration - -
2020-12-11 16:44:39.372 +01:00 [INF] HTTP GET /account/registration responded 404 in 0.0663 ms
2020-12-11 16:44:39.374 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/account/registration - - - 404 - - 9.1363ms
2020-12-11 16:44:43.061 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/account/signup - -
2020-12-11 16:44:43.062 +01:00 [INF] HTTP GET /account/signup responded 404 in 0.0150 ms
2020-12-11 16:44:43.064 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/account/signup - - - 404 - - 2.5833ms
2020-12-11 16:56:11.763 +01:00 [INF] Starting web host
2020-12-11 16:56:13.464 +01:00 [DBG] Hosting starting
2020-12-11 16:56:13.521 +01:00 [INF] User profile is available. Using 'C:\Users\MartinAlexander\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-11 16:56:13.944 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 16:56:13.944 +01:00 [INF] Hosting environment: Development
2020-12-11 16:56:13.944 +01:00 [INF] Content root path: C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit
2020-12-11 16:56:13.944 +01:00 [DBG] Hosting started
2020-12-11 16:56:14.003 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/ - -
2020-12-11 16:56:14.159 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:56:14.243 +01:00 [INF] Route matched with {action = "Index", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 16:56:14.410 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 16:56:15.566 +01:00 [DBG] The index {'UserId'} was not created on entity type 'UserSubReddit' as the properties are already covered by the index {'UserId', 'SubRedditId'}.
2020-12-11 16:56:15.567 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2020-12-11 16:56:15.567 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2020-12-11 16:56:15.567 +01:00 [DBG] The index {'MembersId'} was not created on entity type 'SubRedditUser (Dictionary<string, object>)' as the properties are already covered by the index {'MembersId', 'SubRedditsId'}.
2020-12-11 16:56:15.718 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Comment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:56:15.718 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'Post'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:56:15.718 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'UserSubReddit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:56:15.719 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Vote'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:56:15.802 +01:00 [DBG] The property 'CommentId.Comment' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:56:15.802 +01:00 [DBG] The property 'Discriminator.PostBase' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:56:15.802 +01:00 [DBG] The property 'Discriminator.IdentityRole<long>' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:56:15.802 +01:00 [DBG] The property 'MembersId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:56:15.803 +01:00 [DBG] The property 'SubRedditsId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:56:16.067 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 16:56:16.122 +01:00 [INF] Executing ViewResult, running view Index.
2020-12-11 16:56:16.406 +01:00 [INF] Executed ViewResult - view Index executed in 281.2009ms.
2020-12-11 16:56:16.411 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Index (Foxxit) in 2166.3465ms
2020-12-11 16:56:16.413 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:56:16.416 +01:00 [INF] HTTP GET / responded 200 in 2255.2656 ms
2020-12-11 16:56:16.435 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 16:56:16.443 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/ - - - 200 - text/html;+charset=utf-8 2443.9258ms
2020-12-11 16:56:16.488 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/css/MainStyles.css - -
2020-12-11 16:56:16.497 +01:00 [INF] The file /css/MainStyles.css was not modified
2020-12-11 16:56:16.500 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/css/MainStyles.css - - - 304 - text/css 11.8663ms
2020-12-11 16:56:41.606 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 195
2020-12-11 16:56:41.623 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 16:56:41.644 +01:00 [INF] Route matched with {action = "Search", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(System.String, System.String) on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 16:56:41.691 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 16:56:41.809 +01:00 [DBG] Compiling query expression: 
'DbSet<Post>()'
2020-12-11 16:56:42.076 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Post>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PostBase.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PostBase.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: PostBase.Discriminator (no field, string) Shadow Required AfterSave:Throw, 2], [Property: PostBase.IsDeleted (bool) Required, 3], [Property: PostBase.Text (string), 4], [Property: PostBase.UserId (long) Required FK Index, 5], [Property: Post.ImageURL (string), 6], [Property: Post.SubRedditId (long) Required FK Index, 7], [Property: Post.Title (string), 8], [Property: Post.URL (string), 9], }
        SELECT p.Id, p.CreatedAt, p.Discriminator, p.IsDeleted, p.Text, p.UserId, p.ImageURL, p.SubRedditId, p.Title, p.URL
        FROM PostBase AS p
        WHERE (p.Discriminator == N'Post') && Not(p.IsDeleted)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Post>, 
    Foxxit.Database.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 16:56:42.137 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 16:56:42.204 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (61ms).
2020-12-11 16:56:42.210 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 16:56:43.675 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 16:56:43.687 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[ImageURL], [p].[SubRedditId], [p].[Title], [p].[URL]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Post') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 16:56:43.755 +01:00 [ERR] Failed executing DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[ImageURL], [p].[SubRedditId], [p].[Title], [p].[URL]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Post') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 16:56:43.761 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 16:56:43.771 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 16:56:43.830 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Foxxit.Database.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:5babf2bf-5d02-44d9-8fdf-0478d896757a
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:5babf2bf-5d02-44d9-8fdf-0478d896757a
Error Number:207,State:1,Class:16
2020-12-11 16:56:44.118 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Search (Foxxit) in 2473.8024ms
2020-12-11 16:56:44.118 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 16:56:44.119 +01:00 [ERR] HTTP POST /search responded 500 in 2495.7981 ms
System.AggregateException: One or more errors occurred. (Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.)
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Foxxit.Repositories.GenericRepository`1.GetAllAsync() in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Repositories\GenericRepository.cs:line 25
   at Foxxit.Services.PostService.GetAllAsync() in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Services\EntityServices\PostService.cs:line 21
ClientConnectionId:5babf2bf-5d02-44d9-8fdf-0478d896757a
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Foxxit.Controllers.FoxxitController.Search(String category, String keyword) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Controllers\FoxxitController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2020-12-11 16:56:44.151 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.)
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Foxxit.Repositories.GenericRepository`1.GetAllAsync() in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Repositories\GenericRepository.cs:line 25
   at Foxxit.Services.PostService.GetAllAsync() in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Services\EntityServices\PostService.cs:line 21
ClientConnectionId:5babf2bf-5d02-44d9-8fdf-0478d896757a
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Foxxit.Controllers.FoxxitController.Search(String category, String keyword) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Controllers\FoxxitController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-12-11 16:56:44.213 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 16:56:44.214 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 195 - 500 - text/html;+charset=utf-8 2631.3256ms
2020-12-11 17:06:14.208 +01:00 [INF] Starting web host
2020-12-11 17:06:15.939 +01:00 [DBG] Hosting starting
2020-12-11 17:06:16.011 +01:00 [INF] User profile is available. Using 'C:\Users\MartinAlexander\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-11 17:06:16.515 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 17:06:16.515 +01:00 [INF] Hosting environment: Development
2020-12-11 17:06:16.515 +01:00 [INF] Content root path: C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit
2020-12-11 17:06:16.515 +01:00 [DBG] Hosting started
2020-12-11 17:06:16.574 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/ - -
2020-12-11 17:06:16.695 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 17:06:16.772 +01:00 [INF] Route matched with {action = "Index", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 17:06:16.930 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 17:06:17.901 +01:00 [DBG] The index {'UserId'} was not created on entity type 'UserSubReddit' as the properties are already covered by the index {'UserId', 'SubRedditId'}.
2020-12-11 17:06:17.901 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2020-12-11 17:06:17.901 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2020-12-11 17:06:17.901 +01:00 [DBG] The index {'MembersId'} was not created on entity type 'SubRedditUser (Dictionary<string, object>)' as the properties are already covered by the index {'MembersId', 'SubRedditsId'}.
2020-12-11 17:06:18.021 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Comment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:06:18.022 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'Post'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:06:18.022 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'UserSubReddit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:06:18.022 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Vote'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:06:18.094 +01:00 [DBG] The property 'CommentId.Comment' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:06:18.094 +01:00 [DBG] The property 'Discriminator.PostBase' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:06:18.094 +01:00 [DBG] The property 'Discriminator.IdentityRole<long>' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:06:18.094 +01:00 [DBG] The property 'MembersId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:06:18.094 +01:00 [DBG] The property 'SubRedditsId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:06:18.310 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 17:06:18.364 +01:00 [INF] Executing ViewResult, running view Index.
2020-12-11 17:06:18.598 +01:00 [INF] Executed ViewResult - view Index executed in 234.5055ms.
2020-12-11 17:06:18.602 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Index (Foxxit) in 1828.6816ms
2020-12-11 17:06:18.604 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 17:06:18.608 +01:00 [INF] HTTP GET / responded 200 in 1911.5318 ms
2020-12-11 17:06:18.625 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 17:06:18.637 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/ - - - 200 - text/html;+charset=utf-8 2065.9422ms
2020-12-11 17:06:18.657 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/css/MainStyles.css - -
2020-12-11 17:06:18.680 +01:00 [INF] The file /css/MainStyles.css was not modified
2020-12-11 17:06:18.686 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/css/MainStyles.css - - - 304 - text/css 28.3927ms
2020-12-11 17:06:27.772 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 195
2020-12-11 17:06:27.779 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 17:06:27.798 +01:00 [INF] Route matched with {action = "Search", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(System.String, System.String) on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 17:06:27.841 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 17:06:27.957 +01:00 [DBG] Compiling query expression: 
'DbSet<Post>()'
2020-12-11 17:06:28.221 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Post>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PostBase.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PostBase.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: PostBase.Discriminator (no field, string) Shadow Required AfterSave:Throw, 2], [Property: PostBase.IsDeleted (bool) Required, 3], [Property: PostBase.Text (string), 4], [Property: PostBase.UserId (long) Required FK Index, 5], [Property: Post.ImageURL (string), 6], [Property: Post.SubRedditId (long) Required FK Index, 7], [Property: Post.Title (string), 8], [Property: Post.URL (string), 9], }
        SELECT p.Id, p.CreatedAt, p.Discriminator, p.IsDeleted, p.Text, p.UserId, p.ImageURL, p.SubRedditId, p.Title, p.URL
        FROM PostBase AS p
        WHERE (p.Discriminator == N'Post') && Not(p.IsDeleted)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Post>, 
    Foxxit.Database.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 17:06:28.274 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:06:28.335 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (54ms).
2020-12-11 17:06:28.341 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:06:28.716 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:06:28.728 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[ImageURL], [p].[SubRedditId], [p].[Title], [p].[URL]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Post') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:06:28.805 +01:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[ImageURL], [p].[SubRedditId], [p].[Title], [p].[URL]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Post') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:06:28.833 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:06:28.838 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:06:28.848 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:06:28.851 +01:00 [DBG] Compiling query expression: 
'DbSet<SubReddit>()'
2020-12-11 17:06:28.856 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SubReddit>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SubReddit.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SubReddit.About (string), 1], [Property: SubReddit.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: SubReddit.CreatedById (long) Required, 3], [Property: SubReddit.IsDeleted (bool) Required, 4], [Property: SubReddit.Name (string), 5], }
        SELECT s.Id, s.About, s.CreatedAt, s.CreatedById, s.IsDeleted, s.Name
        FROM SubReddits AS s
        WHERE Not(s.IsDeleted)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SubReddit>, 
    Foxxit.Database.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 17:06:28.856 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:06:28.856 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-11 17:06:28.857 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:06:28.858 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:06:28.858 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[About], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[Name]
FROM [SubReddits] AS [s]
WHERE [s].[IsDeleted] <> CAST(1 AS bit)
2020-12-11 17:06:28.867 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[About], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[Name]
FROM [SubReddits] AS [s]
WHERE [s].[IsDeleted] <> CAST(1 AS bit)
2020-12-11 17:06:28.867 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:06:28.867 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:06:28.867 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:06:29.007 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Search (Foxxit) in 1209.4762ms
2020-12-11 17:06:29.008 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 17:06:29.008 +01:00 [ERR] HTTP POST /search responded 500 in 1229.4148 ms
System.AggregateException: One or more errors occurred. (The source 'IQueryable' doesn't implement 'IAsyncEnumerable<Foxxit.Models.Entities.Post>'. Only sources that implement 'IAsyncEnumerable' can be used for Entity Framework asynchronous operations.)
 ---> System.InvalidOperationException: The source 'IQueryable' doesn't implement 'IAsyncEnumerable<Foxxit.Models.Entities.Post>'. Only sources that implement 'IAsyncEnumerable' can be used for Entity Framework asynchronous operations.
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AsAsyncEnumerable[TSource](IQueryable`1 source)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Foxxit.Repositories.GenericRepository`1.Filter(Func`2 condition) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Repositories\GenericRepository.cs:line 30
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Foxxit.Services.SearchService.SearchInPosts(String keyword) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Services\SearchService.cs:line 52
   at Foxxit.Services.SearchService.Search(String category, String keyword) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Services\SearchService.cs:line 43
   at Foxxit.Controllers.FoxxitController.Search(String category, String keyword) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Controllers\FoxxitController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2020-12-11 17:06:29.081 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (The source 'IQueryable' doesn't implement 'IAsyncEnumerable<Foxxit.Models.Entities.Post>'. Only sources that implement 'IAsyncEnumerable' can be used for Entity Framework asynchronous operations.)
 ---> System.InvalidOperationException: The source 'IQueryable' doesn't implement 'IAsyncEnumerable<Foxxit.Models.Entities.Post>'. Only sources that implement 'IAsyncEnumerable' can be used for Entity Framework asynchronous operations.
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AsAsyncEnumerable[TSource](IQueryable`1 source)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Foxxit.Repositories.GenericRepository`1.Filter(Func`2 condition) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Repositories\GenericRepository.cs:line 30
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Foxxit.Services.SearchService.SearchInPosts(String keyword) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Services\SearchService.cs:line 52
   at Foxxit.Services.SearchService.Search(String category, String keyword) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Services\SearchService.cs:line 43
   at Foxxit.Controllers.FoxxitController.Search(String category, String keyword) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Controllers\FoxxitController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-12-11 17:06:29.134 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 17:06:29.135 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 195 - 500 - text/html;+charset=utf-8 1363.1601ms
2020-12-11 17:10:25.175 +01:00 [INF] Starting web host
2020-12-11 17:10:27.213 +01:00 [DBG] Hosting starting
2020-12-11 17:10:27.285 +01:00 [INF] User profile is available. Using 'C:\Users\MartinAlexander\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-11 17:10:27.801 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 17:10:27.801 +01:00 [INF] Hosting environment: Development
2020-12-11 17:10:27.801 +01:00 [INF] Content root path: C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit
2020-12-11 17:10:27.801 +01:00 [DBG] Hosting started
2020-12-11 17:10:27.875 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/ - -
2020-12-11 17:10:28.034 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 17:10:28.123 +01:00 [INF] Route matched with {action = "Index", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 17:10:28.306 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 17:10:29.415 +01:00 [DBG] The index {'UserId'} was not created on entity type 'UserSubReddit' as the properties are already covered by the index {'UserId', 'SubRedditId'}.
2020-12-11 17:10:29.415 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2020-12-11 17:10:29.415 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2020-12-11 17:10:29.415 +01:00 [DBG] The index {'MembersId'} was not created on entity type 'SubRedditUser (Dictionary<string, object>)' as the properties are already covered by the index {'MembersId', 'SubRedditsId'}.
2020-12-11 17:10:29.558 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Comment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:10:29.558 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'Post'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:10:29.558 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'UserSubReddit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:10:29.558 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Vote'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:10:29.636 +01:00 [DBG] The property 'CommentId.Comment' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:10:29.636 +01:00 [DBG] The property 'Discriminator.PostBase' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:10:29.636 +01:00 [DBG] The property 'Discriminator.IdentityRole<long>' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:10:29.636 +01:00 [DBG] The property 'MembersId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:10:29.636 +01:00 [DBG] The property 'SubRedditsId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:10:29.856 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 17:10:29.910 +01:00 [INF] Executing ViewResult, running view Index.
2020-12-11 17:10:30.135 +01:00 [INF] Executed ViewResult - view Index executed in 226.537ms.
2020-12-11 17:10:30.138 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Index (Foxxit) in 2013.6316ms
2020-12-11 17:10:30.139 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 17:10:30.142 +01:00 [INF] HTTP GET / responded 200 in 2107.3156 ms
2020-12-11 17:10:30.162 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 17:10:30.167 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/ - - - 200 - text/html;+charset=utf-8 2297.2309ms
2020-12-11 17:10:36.263 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 195
2020-12-11 17:10:36.269 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 17:10:36.291 +01:00 [INF] Route matched with {action = "Search", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(System.String, System.String) on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 17:10:36.330 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 17:10:36.458 +01:00 [DBG] Compiling query expression: 
'DbSet<Post>()'
2020-12-11 17:10:36.726 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Post>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PostBase.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PostBase.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: PostBase.Discriminator (no field, string) Shadow Required AfterSave:Throw, 2], [Property: PostBase.IsDeleted (bool) Required, 3], [Property: PostBase.Text (string), 4], [Property: PostBase.UserId (long) Required FK Index, 5], [Property: Post.ImageURL (string), 6], [Property: Post.SubRedditId (long) Required FK Index, 7], [Property: Post.Title (string), 8], [Property: Post.URL (string), 9], }
        SELECT p.Id, p.CreatedAt, p.Discriminator, p.IsDeleted, p.Text, p.UserId, p.ImageURL, p.SubRedditId, p.Title, p.URL
        FROM PostBase AS p
        WHERE (p.Discriminator == N'Post') && Not(p.IsDeleted)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Post>, 
    Foxxit.Database.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 17:10:36.784 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:10:36.850 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (60ms).
2020-12-11 17:10:36.856 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:10:37.276 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:10:37.288 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[ImageURL], [p].[SubRedditId], [p].[Title], [p].[URL]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Post') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:10:37.361 +01:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[ImageURL], [p].[SubRedditId], [p].[Title], [p].[URL]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Post') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:10:37.381 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:10:37.385 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:10:37.394 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:10:37.396 +01:00 [DBG] Compiling query expression: 
'DbSet<SubReddit>()'
2020-12-11 17:10:37.401 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SubReddit>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SubReddit.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SubReddit.About (string), 1], [Property: SubReddit.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: SubReddit.CreatedById (long) Required, 3], [Property: SubReddit.IsDeleted (bool) Required, 4], [Property: SubReddit.Name (string), 5], }
        SELECT s.Id, s.About, s.CreatedAt, s.CreatedById, s.IsDeleted, s.Name
        FROM SubReddits AS s
        WHERE Not(s.IsDeleted)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SubReddit>, 
    Foxxit.Database.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 17:10:37.401 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:10:37.401 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-11 17:10:37.402 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:10:37.403 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:10:37.403 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[About], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[Name]
FROM [SubReddits] AS [s]
WHERE [s].[IsDeleted] <> CAST(1 AS bit)
2020-12-11 17:10:37.411 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[About], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[Name]
FROM [SubReddits] AS [s]
WHERE [s].[IsDeleted] <> CAST(1 AS bit)
2020-12-11 17:10:37.411 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:10:37.411 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:10:37.411 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:10:37.558 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Search (Foxxit) in 1266.7284ms
2020-12-11 17:10:37.558 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 17:10:37.559 +01:00 [ERR] HTTP POST /search responded 500 in 1289.6360 ms
System.AggregateException: One or more errors occurred. (The source 'IQueryable' doesn't implement 'IAsyncEnumerable<Foxxit.Models.Entities.Post>'. Only sources that implement 'IAsyncEnumerable' can be used for Entity Framework asynchronous operations.)
 ---> System.InvalidOperationException: The source 'IQueryable' doesn't implement 'IAsyncEnumerable<Foxxit.Models.Entities.Post>'. Only sources that implement 'IAsyncEnumerable' can be used for Entity Framework asynchronous operations.
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AsAsyncEnumerable[TSource](IQueryable`1 source)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Foxxit.Repositories.GenericRepository`1.Filter(Func`2 condition) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Repositories\GenericRepository.cs:line 30
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Foxxit.Services.SearchService.SearchInPosts(String keyword) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Services\SearchService.cs:line 52
   at Foxxit.Services.SearchService.Search(String category, String keyword) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Services\SearchService.cs:line 43
   at Foxxit.Controllers.FoxxitController.Search(String category, String keyword) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Controllers\FoxxitController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2020-12-11 17:10:37.630 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (The source 'IQueryable' doesn't implement 'IAsyncEnumerable<Foxxit.Models.Entities.Post>'. Only sources that implement 'IAsyncEnumerable' can be used for Entity Framework asynchronous operations.)
 ---> System.InvalidOperationException: The source 'IQueryable' doesn't implement 'IAsyncEnumerable<Foxxit.Models.Entities.Post>'. Only sources that implement 'IAsyncEnumerable' can be used for Entity Framework asynchronous operations.
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AsAsyncEnumerable[TSource](IQueryable`1 source)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Foxxit.Repositories.GenericRepository`1.Filter(Func`2 condition) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Repositories\GenericRepository.cs:line 30
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Foxxit.Services.SearchService.SearchInPosts(String keyword) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Services\SearchService.cs:line 52
   at Foxxit.Services.SearchService.Search(String category, String keyword) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Services\SearchService.cs:line 43
   at Foxxit.Controllers.FoxxitController.Search(String category, String keyword) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Controllers\FoxxitController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-12-11 17:10:37.679 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 17:10:37.680 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 195 - 500 - text/html;+charset=utf-8 1417.6666ms
2020-12-11 17:11:52.017 +01:00 [INF] Starting web host
2020-12-11 17:11:53.910 +01:00 [DBG] Hosting starting
2020-12-11 17:11:53.969 +01:00 [INF] User profile is available. Using 'C:\Users\MartinAlexander\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-11 17:11:54.374 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 17:11:54.374 +01:00 [INF] Hosting environment: Development
2020-12-11 17:11:54.374 +01:00 [INF] Content root path: C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit
2020-12-11 17:11:54.374 +01:00 [DBG] Hosting started
2020-12-11 17:11:54.443 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/ - -
2020-12-11 17:11:54.566 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 17:11:54.649 +01:00 [INF] Route matched with {action = "Index", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 17:11:54.802 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 17:11:55.793 +01:00 [DBG] The index {'UserId'} was not created on entity type 'UserSubReddit' as the properties are already covered by the index {'UserId', 'SubRedditId'}.
2020-12-11 17:11:55.793 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2020-12-11 17:11:55.793 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2020-12-11 17:11:55.793 +01:00 [DBG] The index {'MembersId'} was not created on entity type 'SubRedditUser (Dictionary<string, object>)' as the properties are already covered by the index {'MembersId', 'SubRedditsId'}.
2020-12-11 17:11:55.905 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Comment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:11:55.905 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'Post'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:11:55.905 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'UserSubReddit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:11:55.905 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Vote'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:11:55.972 +01:00 [DBG] The property 'CommentId.Comment' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:11:55.972 +01:00 [DBG] The property 'Discriminator.PostBase' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:11:55.972 +01:00 [DBG] The property 'Discriminator.IdentityRole<long>' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:11:55.972 +01:00 [DBG] The property 'MembersId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:11:55.972 +01:00 [DBG] The property 'SubRedditsId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:11:56.182 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 17:11:56.230 +01:00 [INF] Executing ViewResult, running view Index.
2020-12-11 17:11:56.448 +01:00 [INF] Executed ViewResult - view Index executed in 216.1123ms.
2020-12-11 17:11:56.452 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Index (Foxxit) in 1802.3279ms
2020-12-11 17:11:56.453 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 17:11:56.457 +01:00 [INF] HTTP GET / responded 200 in 1889.8394 ms
2020-12-11 17:11:56.474 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 17:11:56.477 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/ - - - 200 - text/html;+charset=utf-8 2038.2541ms
2020-12-11 17:12:03.262 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 195
2020-12-11 17:12:03.266 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 17:12:03.284 +01:00 [INF] Route matched with {action = "Search", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(System.String, System.String) on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 17:12:03.319 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 17:12:03.443 +01:00 [DBG] Compiling query expression: 
'DbSet<Post>()'
2020-12-11 17:12:03.690 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Post>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PostBase.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PostBase.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: PostBase.Discriminator (no field, string) Shadow Required AfterSave:Throw, 2], [Property: PostBase.IsDeleted (bool) Required, 3], [Property: PostBase.Text (string), 4], [Property: PostBase.UserId (long) Required FK Index, 5], [Property: Post.ImageURL (string), 6], [Property: Post.SubRedditId (long) Required FK Index, 7], [Property: Post.Title (string), 8], [Property: Post.URL (string), 9], }
        SELECT p.Id, p.CreatedAt, p.Discriminator, p.IsDeleted, p.Text, p.UserId, p.ImageURL, p.SubRedditId, p.Title, p.URL
        FROM PostBase AS p
        WHERE (p.Discriminator == N'Post') && Not(p.IsDeleted)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Post>, 
    Foxxit.Database.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 17:12:03.744 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:12:03.802 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (52ms).
2020-12-11 17:12:03.808 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:12:04.187 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:12:04.198 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[ImageURL], [p].[SubRedditId], [p].[Title], [p].[URL]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Post') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:12:04.280 +01:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[ImageURL], [p].[SubRedditId], [p].[Title], [p].[URL]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Post') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:12:04.300 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:12:04.304 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:12:04.313 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:12:04.315 +01:00 [DBG] Compiling query expression: 
'DbSet<SubReddit>()'
2020-12-11 17:12:04.320 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SubReddit>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SubReddit.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SubReddit.About (string), 1], [Property: SubReddit.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: SubReddit.CreatedById (long) Required, 3], [Property: SubReddit.IsDeleted (bool) Required, 4], [Property: SubReddit.Name (string), 5], }
        SELECT s.Id, s.About, s.CreatedAt, s.CreatedById, s.IsDeleted, s.Name
        FROM SubReddits AS s
        WHERE Not(s.IsDeleted)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SubReddit>, 
    Foxxit.Database.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 17:12:04.320 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:12:04.320 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-11 17:12:04.321 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:12:04.322 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:12:04.322 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[About], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[Name]
FROM [SubReddits] AS [s]
WHERE [s].[IsDeleted] <> CAST(1 AS bit)
2020-12-11 17:12:04.327 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[About], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[Name]
FROM [SubReddits] AS [s]
WHERE [s].[IsDeleted] <> CAST(1 AS bit)
2020-12-11 17:12:04.327 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:12:04.327 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:12:04.327 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:12:04.330 +01:00 [DBG] Compiling query expression: 
'DbSet<Post>()'
2020-12-11 17:12:04.335 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Post>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PostBase.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PostBase.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: PostBase.Discriminator (no field, string) Shadow Required AfterSave:Throw, 2], [Property: PostBase.IsDeleted (bool) Required, 3], [Property: PostBase.Text (string), 4], [Property: PostBase.UserId (long) Required FK Index, 5], [Property: Post.ImageURL (string), 6], [Property: Post.SubRedditId (long) Required FK Index, 7], [Property: Post.Title (string), 8], [Property: Post.URL (string), 9], }
        SELECT p.Id, p.CreatedAt, p.Discriminator, p.IsDeleted, p.Text, p.UserId, p.ImageURL, p.SubRedditId, p.Title, p.URL
        FROM PostBase AS p
        WHERE (p.Discriminator == N'Post') && Not(p.IsDeleted)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Post>, 
    Foxxit.Database.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 17:12:04.338 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:12:04.338 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-11 17:12:04.339 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:12:04.340 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:12:04.341 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[ImageURL], [p].[SubRedditId], [p].[Title], [p].[URL]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Post') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:12:04.342 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[ImageURL], [p].[SubRedditId], [p].[Title], [p].[URL]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Post') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:12:04.343 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:12:04.344 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:12:04.344 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:12:04.345 +01:00 [DBG] Compiling query expression: 
'DbSet<SubReddit>()'
2020-12-11 17:12:04.348 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SubReddit>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SubReddit.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SubReddit.About (string), 1], [Property: SubReddit.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: SubReddit.CreatedById (long) Required, 3], [Property: SubReddit.IsDeleted (bool) Required, 4], [Property: SubReddit.Name (string), 5], }
        SELECT s.Id, s.About, s.CreatedAt, s.CreatedById, s.IsDeleted, s.Name
        FROM SubReddits AS s
        WHERE Not(s.IsDeleted)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SubReddit>, 
    Foxxit.Database.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 17:12:04.349 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:12:04.349 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-11 17:12:04.349 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:12:04.349 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:12:04.349 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[About], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[Name]
FROM [SubReddits] AS [s]
WHERE [s].[IsDeleted] <> CAST(1 AS bit)
2020-12-11 17:12:04.350 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[About], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[Name]
FROM [SubReddits] AS [s]
WHERE [s].[IsDeleted] <> CAST(1 AS bit)
2020-12-11 17:12:04.350 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:12:04.350 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:12:04.350 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:12:04.351 +01:00 [DBG] Compiling query expression: 
'DbSet<Comment>()'
2020-12-11 17:12:04.355 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Comment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PostBase.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PostBase.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: PostBase.Discriminator (no field, string) Shadow Required AfterSave:Throw, 2], [Property: PostBase.IsDeleted (bool) Required, 3], [Property: PostBase.Text (string), 4], [Property: PostBase.UserId (long) Required FK Index, 5], [Property: Comment.CommentId (no field, Nullable<long>) Shadow FK Index, 6], [Property: Comment.OriginalCommentId (long) Required, 7], [Property: Comment.PostId (long) Required FK Index, 8], }
        SELECT p.Id, p.CreatedAt, p.Discriminator, p.IsDeleted, p.Text, p.UserId, p.CommentId, p.OriginalCommentId, p.PostId
        FROM PostBase AS p
        WHERE (p.Discriminator == N'Comment') && Not(p.IsDeleted)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Comment>, 
    Foxxit.Database.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 17:12:04.355 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:12:04.356 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-11 17:12:04.356 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:12:04.356 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:12:04.356 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[CommentId], [p].[OriginalCommentId], [p].[PostId]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Comment') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:12:04.358 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[CommentId], [p].[OriginalCommentId], [p].[PostId]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Comment') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:12:04.358 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:12:04.358 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:12:04.358 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:12:04.362 +01:00 [INF] Executing ViewResult, running view Filter.
2020-12-11 17:12:04.373 +01:00 [INF] Executed ViewResult - view Filter executed in 13.0311ms.
2020-12-11 17:12:04.374 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Search (Foxxit) in 1089.1721ms
2020-12-11 17:12:04.374 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 17:12:04.374 +01:00 [INF] HTTP POST /search responded 200 in 1107.2843 ms
2020-12-11 17:12:04.374 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 17:12:04.375 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 195 - 200 - text/html;+charset=utf-8 1113.0133ms
2020-12-11 17:14:03.771 +01:00 [INF] Starting web host
2020-12-11 17:14:05.676 +01:00 [DBG] Hosting starting
2020-12-11 17:14:05.777 +01:00 [INF] User profile is available. Using 'C:\Users\MartinAlexander\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-11 17:14:06.314 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 17:14:06.314 +01:00 [INF] Hosting environment: Development
2020-12-11 17:14:06.314 +01:00 [INF] Content root path: C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit
2020-12-11 17:14:06.314 +01:00 [DBG] Hosting started
2020-12-11 17:14:06.392 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/ - -
2020-12-11 17:14:06.544 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 17:14:06.631 +01:00 [INF] Route matched with {action = "Index", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 17:14:06.811 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 17:14:07.872 +01:00 [DBG] The index {'UserId'} was not created on entity type 'UserSubReddit' as the properties are already covered by the index {'UserId', 'SubRedditId'}.
2020-12-11 17:14:07.872 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2020-12-11 17:14:07.872 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2020-12-11 17:14:07.872 +01:00 [DBG] The index {'MembersId'} was not created on entity type 'SubRedditUser (Dictionary<string, object>)' as the properties are already covered by the index {'MembersId', 'SubRedditsId'}.
2020-12-11 17:14:07.988 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Comment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:14:07.988 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'Post'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:14:07.988 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'UserSubReddit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:14:07.988 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Vote'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:14:08.053 +01:00 [DBG] The property 'CommentId.Comment' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:14:08.053 +01:00 [DBG] The property 'Discriminator.PostBase' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:14:08.053 +01:00 [DBG] The property 'Discriminator.IdentityRole<long>' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:14:08.053 +01:00 [DBG] The property 'MembersId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:14:08.053 +01:00 [DBG] The property 'SubRedditsId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:14:08.274 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 17:14:08.325 +01:00 [INF] Executing ViewResult, running view Index.
2020-12-11 17:14:08.555 +01:00 [INF] Executed ViewResult - view Index executed in 231.9036ms.
2020-12-11 17:14:08.559 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Index (Foxxit) in 1926.3784ms
2020-12-11 17:14:08.560 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 17:14:08.563 +01:00 [INF] HTTP GET / responded 200 in 2018.5668 ms
2020-12-11 17:14:08.582 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 17:14:08.586 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/ - - - 200 - text/html;+charset=utf-8 2197.0963ms
2020-12-11 17:14:13.480 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 195
2020-12-11 17:14:13.484 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 17:14:13.503 +01:00 [INF] Route matched with {action = "Search", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(System.String, System.String) on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 17:14:13.536 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 17:14:13.652 +01:00 [DBG] Compiling query expression: 
'DbSet<Post>()'
2020-12-11 17:14:13.935 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Post>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PostBase.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PostBase.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: PostBase.Discriminator (no field, string) Shadow Required AfterSave:Throw, 2], [Property: PostBase.IsDeleted (bool) Required, 3], [Property: PostBase.Text (string), 4], [Property: PostBase.UserId (long) Required FK Index, 5], [Property: Post.ImageURL (string), 6], [Property: Post.SubRedditId (long) Required FK Index, 7], [Property: Post.Title (string), 8], [Property: Post.URL (string), 9], }
        SELECT p.Id, p.CreatedAt, p.Discriminator, p.IsDeleted, p.Text, p.UserId, p.ImageURL, p.SubRedditId, p.Title, p.URL
        FROM PostBase AS p
        WHERE (p.Discriminator == N'Post') && Not(p.IsDeleted)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Post>, 
    Foxxit.Database.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 17:14:13.978 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:14:14.037 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (53ms).
2020-12-11 17:14:14.041 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:14.407 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:14.417 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[ImageURL], [p].[SubRedditId], [p].[Title], [p].[URL]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Post') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:14:14.461 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[ImageURL], [p].[SubRedditId], [p].[Title], [p].[URL]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Post') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:14:14.472 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:14:14.475 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:14.483 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:14.484 +01:00 [DBG] Compiling query expression: 
'DbSet<SubReddit>()'
2020-12-11 17:14:14.489 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SubReddit>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SubReddit.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SubReddit.About (string), 1], [Property: SubReddit.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: SubReddit.CreatedById (long) Required, 3], [Property: SubReddit.IsDeleted (bool) Required, 4], [Property: SubReddit.Name (string), 5], }
        SELECT s.Id, s.About, s.CreatedAt, s.CreatedById, s.IsDeleted, s.Name
        FROM SubReddits AS s
        WHERE Not(s.IsDeleted)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SubReddit>, 
    Foxxit.Database.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 17:14:14.489 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:14:14.489 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-11 17:14:14.489 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:14.490 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:14.491 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[About], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[Name]
FROM [SubReddits] AS [s]
WHERE [s].[IsDeleted] <> CAST(1 AS bit)
2020-12-11 17:14:14.506 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[About], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[Name]
FROM [SubReddits] AS [s]
WHERE [s].[IsDeleted] <> CAST(1 AS bit)
2020-12-11 17:14:14.506 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:14:14.506 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:14.506 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:14.507 +01:00 [DBG] Compiling query expression: 
'DbSet<Comment>()'
2020-12-11 17:14:14.512 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Comment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PostBase.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PostBase.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: PostBase.Discriminator (no field, string) Shadow Required AfterSave:Throw, 2], [Property: PostBase.IsDeleted (bool) Required, 3], [Property: PostBase.Text (string), 4], [Property: PostBase.UserId (long) Required FK Index, 5], [Property: Comment.CommentId (no field, Nullable<long>) Shadow FK Index, 6], [Property: Comment.OriginalCommentId (long) Required, 7], [Property: Comment.PostId (long) Required FK Index, 8], }
        SELECT p.Id, p.CreatedAt, p.Discriminator, p.IsDeleted, p.Text, p.UserId, p.CommentId, p.OriginalCommentId, p.PostId
        FROM PostBase AS p
        WHERE (p.Discriminator == N'Comment') && Not(p.IsDeleted)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Comment>, 
    Foxxit.Database.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 17:14:14.513 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:14:14.513 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-11 17:14:14.513 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:14.513 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:14.513 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[CommentId], [p].[OriginalCommentId], [p].[PostId]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Comment') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:14:14.515 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[CommentId], [p].[OriginalCommentId], [p].[PostId]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Comment') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:14:14.515 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:14:14.515 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:14.515 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:14.519 +01:00 [INF] Executing ViewResult, running view Filter.
2020-12-11 17:14:14.531 +01:00 [INF] Executed ViewResult - view Filter executed in 13.1646ms.
2020-12-11 17:14:14.531 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Search (Foxxit) in 1028.5085ms
2020-12-11 17:14:14.531 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 17:14:14.532 +01:00 [INF] HTTP POST /search responded 200 in 1047.8634 ms
2020-12-11 17:14:14.532 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 17:14:14.533 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 195 - 200 - text/html;+charset=utf-8 1053.2229ms
2020-12-11 17:14:22.527 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 201
2020-12-11 17:14:22.535 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 17:14:22.536 +01:00 [INF] Route matched with {action = "Search", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(System.String, System.String) on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 17:14:22.571 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 17:14:22.572 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:14:22.573 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-11 17:14:22.573 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:22.573 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:22.573 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[About], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[Name]
FROM [SubReddits] AS [s]
WHERE [s].[IsDeleted] <> CAST(1 AS bit)
2020-12-11 17:14:22.574 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[About], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[Name]
FROM [SubReddits] AS [s]
WHERE [s].[IsDeleted] <> CAST(1 AS bit)
2020-12-11 17:14:22.574 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:14:22.574 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:22.574 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:22.576 +01:00 [INF] Executing ViewResult, running view Filter.
2020-12-11 17:14:22.579 +01:00 [INF] Executed ViewResult - view Filter executed in 3.6347ms.
2020-12-11 17:14:22.579 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Search (Foxxit) in 42.8836ms
2020-12-11 17:14:22.580 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 17:14:22.580 +01:00 [INF] HTTP POST /search responded 200 in 44.4786 ms
2020-12-11 17:14:22.580 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 17:14:22.580 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 201 - 200 - text/html;+charset=utf-8 52.9504ms
2020-12-11 17:14:31.259 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 199
2020-12-11 17:14:31.260 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 17:14:31.260 +01:00 [INF] Route matched with {action = "Search", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(System.String, System.String) on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 17:14:31.261 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 17:14:31.263 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:14:31.263 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-11 17:14:31.263 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:31.264 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:31.264 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[CommentId], [p].[OriginalCommentId], [p].[PostId]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Comment') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:14:31.265 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[CommentId], [p].[OriginalCommentId], [p].[PostId]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Comment') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:14:31.266 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:14:31.266 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:31.266 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:31.269 +01:00 [INF] Executing ViewResult, running view Filter.
2020-12-11 17:14:31.271 +01:00 [INF] Executed ViewResult - view Filter executed in 2.7209ms.
2020-12-11 17:14:31.272 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Search (Foxxit) in 11.4041ms
2020-12-11 17:14:31.272 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 17:14:31.272 +01:00 [INF] HTTP POST /search responded 200 in 11.8417 ms
2020-12-11 17:14:31.272 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 17:14:31.272 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 199 - 200 - text/html;+charset=utf-8 12.6589ms
2020-12-11 17:14:48.782 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 195
2020-12-11 17:14:48.782 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 17:14:48.782 +01:00 [INF] Route matched with {action = "Search", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(System.String, System.String) on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 17:14:48.783 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 17:14:48.783 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:14:48.783 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-11 17:14:48.783 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:48.783 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:48.783 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[ImageURL], [p].[SubRedditId], [p].[Title], [p].[URL]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Post') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:14:48.784 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[ImageURL], [p].[SubRedditId], [p].[Title], [p].[URL]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Post') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:14:48.784 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:14:48.784 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:48.784 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:48.784 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:14:48.784 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-11 17:14:48.784 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:48.784 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:48.784 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[About], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[Name]
FROM [SubReddits] AS [s]
WHERE [s].[IsDeleted] <> CAST(1 AS bit)
2020-12-11 17:14:48.785 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[About], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[Name]
FROM [SubReddits] AS [s]
WHERE [s].[IsDeleted] <> CAST(1 AS bit)
2020-12-11 17:14:48.785 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:14:48.785 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:48.785 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:48.785 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:14:48.785 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-11 17:14:48.785 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:48.785 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:48.785 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[CommentId], [p].[OriginalCommentId], [p].[PostId]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Comment') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:14:48.785 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[CommentId], [p].[OriginalCommentId], [p].[PostId]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Comment') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:14:48.785 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:14:48.785 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:48.785 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:14:48.787 +01:00 [INF] Executing ViewResult, running view Filter.
2020-12-11 17:14:48.788 +01:00 [INF] Executed ViewResult - view Filter executed in 1.3588ms.
2020-12-11 17:14:48.789 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Search (Foxxit) in 6.4348ms
2020-12-11 17:14:48.789 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 17:14:48.789 +01:00 [INF] HTTP POST /search responded 200 in 6.7315 ms
2020-12-11 17:14:48.789 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 17:14:48.789 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 195 - 200 - text/html;+charset=utf-8 7.3562ms
2020-12-11 17:16:25.566 +01:00 [INF] Starting web host
2020-12-11 17:16:27.513 +01:00 [DBG] Hosting starting
2020-12-11 17:16:27.566 +01:00 [INF] User profile is available. Using 'C:\Users\MartinAlexander\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-11 17:16:27.914 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 17:16:27.914 +01:00 [INF] Hosting environment: Development
2020-12-11 17:16:27.914 +01:00 [INF] Content root path: C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit
2020-12-11 17:16:27.915 +01:00 [DBG] Hosting started
2020-12-11 17:16:27.968 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/ - -
2020-12-11 17:16:28.101 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 17:16:28.170 +01:00 [INF] Route matched with {action = "Index", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 17:16:28.305 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 17:16:29.240 +01:00 [DBG] The index {'UserId'} was not created on entity type 'UserSubReddit' as the properties are already covered by the index {'UserId', 'SubRedditId'}.
2020-12-11 17:16:29.241 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2020-12-11 17:16:29.241 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2020-12-11 17:16:29.241 +01:00 [DBG] The index {'MembersId'} was not created on entity type 'SubRedditUser (Dictionary<string, object>)' as the properties are already covered by the index {'MembersId', 'SubRedditsId'}.
2020-12-11 17:16:29.359 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Comment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:16:29.359 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'Post'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:16:29.359 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'UserSubReddit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:16:29.359 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Vote'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:16:29.425 +01:00 [DBG] The property 'CommentId.Comment' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:16:29.425 +01:00 [DBG] The property 'Discriminator.PostBase' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:16:29.425 +01:00 [DBG] The property 'Discriminator.IdentityRole<long>' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:16:29.425 +01:00 [DBG] The property 'MembersId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:16:29.425 +01:00 [DBG] The property 'SubRedditsId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:16:29.665 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 17:16:29.717 +01:00 [INF] Executing ViewResult, running view Index.
2020-12-11 17:16:29.953 +01:00 [INF] Executed ViewResult - view Index executed in 232.7117ms.
2020-12-11 17:16:29.959 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Index (Foxxit) in 1788.605ms
2020-12-11 17:16:29.960 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 17:16:29.965 +01:00 [INF] HTTP GET / responded 200 in 1861.0407 ms
2020-12-11 17:16:29.983 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 17:16:29.987 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/ - - - 200 - text/html;+charset=utf-8 2024.6626ms
2020-12-11 17:16:30.072 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/css/MainStyles.css - -
2020-12-11 17:16:30.080 +01:00 [INF] The file /css/MainStyles.css was not modified
2020-12-11 17:16:30.082 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/css/MainStyles.css - - - 304 - text/css 10.0213ms
2020-12-11 17:16:34.436 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 195
2020-12-11 17:16:34.443 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 17:16:34.460 +01:00 [INF] Route matched with {action = "Search", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(System.String, System.String) on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 17:16:34.497 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 17:16:34.620 +01:00 [DBG] Compiling query expression: 
'DbSet<Post>()'
2020-12-11 17:16:34.868 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Post>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PostBase.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PostBase.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: PostBase.Discriminator (no field, string) Shadow Required AfterSave:Throw, 2], [Property: PostBase.IsDeleted (bool) Required, 3], [Property: PostBase.Text (string), 4], [Property: PostBase.UserId (long) Required FK Index, 5], [Property: Post.ImageURL (string), 6], [Property: Post.SubRedditId (long) Required FK Index, 7], [Property: Post.Title (string), 8], [Property: Post.URL (string), 9], }
        SELECT p.Id, p.CreatedAt, p.Discriminator, p.IsDeleted, p.Text, p.UserId, p.ImageURL, p.SubRedditId, p.Title, p.URL
        FROM PostBase AS p
        WHERE (p.Discriminator == N'Post') && Not(p.IsDeleted)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Post>, 
    Foxxit.Database.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 17:16:34.911 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:16:34.974 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (57ms).
2020-12-11 17:16:34.979 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:16:35.337 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:16:35.347 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[ImageURL], [p].[SubRedditId], [p].[Title], [p].[URL]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Post') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:16:35.399 +01:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[ImageURL], [p].[SubRedditId], [p].[Title], [p].[URL]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Post') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:16:35.411 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:16:35.414 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:16:35.423 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:16:35.424 +01:00 [DBG] Compiling query expression: 
'DbSet<SubReddit>()'
2020-12-11 17:16:35.430 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SubReddit>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SubReddit.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SubReddit.About (string), 1], [Property: SubReddit.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: SubReddit.CreatedById (long) Required, 3], [Property: SubReddit.IsDeleted (bool) Required, 4], [Property: SubReddit.Name (string), 5], }
        SELECT s.Id, s.About, s.CreatedAt, s.CreatedById, s.IsDeleted, s.Name
        FROM SubReddits AS s
        WHERE Not(s.IsDeleted)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SubReddit>, 
    Foxxit.Database.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 17:16:35.430 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:16:35.430 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-11 17:16:35.430 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:16:35.431 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:16:35.431 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[About], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[Name]
FROM [SubReddits] AS [s]
WHERE [s].[IsDeleted] <> CAST(1 AS bit)
2020-12-11 17:16:35.442 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[About], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[Name]
FROM [SubReddits] AS [s]
WHERE [s].[IsDeleted] <> CAST(1 AS bit)
2020-12-11 17:16:35.442 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:16:35.442 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:16:35.442 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:16:35.444 +01:00 [DBG] Compiling query expression: 
'DbSet<Comment>()'
2020-12-11 17:16:35.448 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Comment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PostBase.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PostBase.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: PostBase.Discriminator (no field, string) Shadow Required AfterSave:Throw, 2], [Property: PostBase.IsDeleted (bool) Required, 3], [Property: PostBase.Text (string), 4], [Property: PostBase.UserId (long) Required FK Index, 5], [Property: Comment.CommentId (no field, Nullable<long>) Shadow FK Index, 6], [Property: Comment.OriginalCommentId (long) Required, 7], [Property: Comment.PostId (long) Required FK Index, 8], }
        SELECT p.Id, p.CreatedAt, p.Discriminator, p.IsDeleted, p.Text, p.UserId, p.CommentId, p.OriginalCommentId, p.PostId
        FROM PostBase AS p
        WHERE (p.Discriminator == N'Comment') && Not(p.IsDeleted)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Comment>, 
    Foxxit.Database.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 17:16:35.449 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:16:35.449 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-11 17:16:35.449 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:16:35.449 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:16:35.449 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[CommentId], [p].[OriginalCommentId], [p].[PostId]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Comment') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:16:35.451 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[CommentId], [p].[OriginalCommentId], [p].[PostId]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Comment') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:16:35.451 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:16:35.451 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:16:35.451 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:16:35.455 +01:00 [INF] Executing ViewResult, running view Filter.
2020-12-11 17:16:35.468 +01:00 [INF] Executed ViewResult - view Filter executed in 14.1817ms.
2020-12-11 17:16:35.469 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Search (Foxxit) in 1008.7741ms
2020-12-11 17:16:35.469 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 17:16:35.469 +01:00 [INF] HTTP POST /search responded 200 in 1025.9649 ms
2020-12-11 17:16:35.469 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 17:16:35.470 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 195 - 200 - text/html;+charset=utf-8 1033.9685ms
2020-12-11 17:17:00.217 +01:00 [INF] Starting web host
2020-12-11 17:17:02.146 +01:00 [DBG] Hosting starting
2020-12-11 17:17:02.202 +01:00 [INF] User profile is available. Using 'C:\Users\MartinAlexander\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-11 17:17:02.531 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 17:17:02.532 +01:00 [INF] Hosting environment: Development
2020-12-11 17:17:02.532 +01:00 [INF] Content root path: C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit
2020-12-11 17:17:02.532 +01:00 [DBG] Hosting started
2020-12-11 17:17:02.588 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/ - -
2020-12-11 17:17:02.700 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 17:17:02.765 +01:00 [INF] Route matched with {action = "Index", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 17:17:02.899 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 17:17:03.753 +01:00 [DBG] The index {'UserId'} was not created on entity type 'UserSubReddit' as the properties are already covered by the index {'UserId', 'SubRedditId'}.
2020-12-11 17:17:03.755 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2020-12-11 17:17:03.755 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2020-12-11 17:17:03.756 +01:00 [DBG] The index {'MembersId'} was not created on entity type 'SubRedditUser (Dictionary<string, object>)' as the properties are already covered by the index {'MembersId', 'SubRedditsId'}.
2020-12-11 17:17:03.890 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Comment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:17:03.890 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'Post'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:17:03.890 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'UserSubReddit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:17:03.890 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Vote'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 17:17:03.952 +01:00 [DBG] The property 'CommentId.Comment' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:17:03.952 +01:00 [DBG] The property 'Discriminator.PostBase' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:17:03.952 +01:00 [DBG] The property 'Discriminator.IdentityRole<long>' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:17:03.952 +01:00 [DBG] The property 'MembersId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:17:03.952 +01:00 [DBG] The property 'SubRedditsId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 17:17:04.184 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 17:17:04.252 +01:00 [INF] Executing ViewResult, running view Index.
2020-12-11 17:17:04.475 +01:00 [INF] Executed ViewResult - view Index executed in 228.0818ms.
2020-12-11 17:17:04.479 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Index (Foxxit) in 1713.2108ms
2020-12-11 17:17:04.480 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 17:17:04.483 +01:00 [INF] HTTP GET / responded 200 in 1781.6887 ms
2020-12-11 17:17:04.508 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 17:17:04.514 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/ - - - 200 - text/html;+charset=utf-8 1929.1101ms
2020-12-11 17:17:04.656 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/assets/search.png - -
2020-12-11 17:17:04.656 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/assets/logo.png - -
2020-12-11 17:17:04.664 +01:00 [INF] The file /assets/logo.png was not modified
2020-12-11 17:17:04.664 +01:00 [INF] The file /assets/search.png was not modified
2020-12-11 17:17:04.665 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/assets/logo.png - - - 304 - image/png 9.2618ms
2020-12-11 17:17:04.665 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/assets/search.png - - - 304 - image/png 9.2615ms
2020-12-11 17:17:10.101 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 195
2020-12-11 17:17:10.107 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 17:17:10.127 +01:00 [INF] Route matched with {action = "Search", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(System.String, System.String) on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 17:17:10.168 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 17:17:10.289 +01:00 [DBG] Compiling query expression: 
'DbSet<Post>()'
2020-12-11 17:17:10.544 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Post>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PostBase.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PostBase.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: PostBase.Discriminator (no field, string) Shadow Required AfterSave:Throw, 2], [Property: PostBase.IsDeleted (bool) Required, 3], [Property: PostBase.Text (string), 4], [Property: PostBase.UserId (long) Required FK Index, 5], [Property: Post.ImageURL (string), 6], [Property: Post.SubRedditId (long) Required FK Index, 7], [Property: Post.Title (string), 8], [Property: Post.URL (string), 9], }
        SELECT p.Id, p.CreatedAt, p.Discriminator, p.IsDeleted, p.Text, p.UserId, p.ImageURL, p.SubRedditId, p.Title, p.URL
        FROM PostBase AS p
        WHERE (p.Discriminator == N'Post') && Not(p.IsDeleted)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Post>, 
    Foxxit.Database.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 17:17:10.589 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:17:10.647 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (53ms).
2020-12-11 17:17:10.651 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:17:11.005 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:17:11.015 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[ImageURL], [p].[SubRedditId], [p].[Title], [p].[URL]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Post') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:17:11.060 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[ImageURL], [p].[SubRedditId], [p].[Title], [p].[URL]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Post') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:17:11.071 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:17:11.074 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:17:11.083 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:17:11.084 +01:00 [DBG] Compiling query expression: 
'DbSet<SubReddit>()'
2020-12-11 17:17:11.089 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SubReddit>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SubReddit.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SubReddit.About (string), 1], [Property: SubReddit.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: SubReddit.CreatedById (long) Required, 3], [Property: SubReddit.IsDeleted (bool) Required, 4], [Property: SubReddit.Name (string), 5], }
        SELECT s.Id, s.About, s.CreatedAt, s.CreatedById, s.IsDeleted, s.Name
        FROM SubReddits AS s
        WHERE Not(s.IsDeleted)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SubReddit>, 
    Foxxit.Database.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 17:17:11.089 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:17:11.089 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-11 17:17:11.089 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:17:11.090 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:17:11.091 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[About], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[Name]
FROM [SubReddits] AS [s]
WHERE [s].[IsDeleted] <> CAST(1 AS bit)
2020-12-11 17:17:11.096 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[About], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[Name]
FROM [SubReddits] AS [s]
WHERE [s].[IsDeleted] <> CAST(1 AS bit)
2020-12-11 17:17:11.096 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:17:11.096 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:17:11.096 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:17:11.097 +01:00 [DBG] Compiling query expression: 
'DbSet<Comment>()'
2020-12-11 17:17:11.102 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Comment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PostBase.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PostBase.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: PostBase.Discriminator (no field, string) Shadow Required AfterSave:Throw, 2], [Property: PostBase.IsDeleted (bool) Required, 3], [Property: PostBase.Text (string), 4], [Property: PostBase.UserId (long) Required FK Index, 5], [Property: Comment.CommentId (no field, Nullable<long>) Shadow FK Index, 6], [Property: Comment.OriginalCommentId (long) Required, 7], [Property: Comment.PostId (long) Required FK Index, 8], }
        SELECT p.Id, p.CreatedAt, p.Discriminator, p.IsDeleted, p.Text, p.UserId, p.CommentId, p.OriginalCommentId, p.PostId
        FROM PostBase AS p
        WHERE (p.Discriminator == N'Comment') && Not(p.IsDeleted)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Comment>, 
    Foxxit.Database.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 17:17:11.102 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 17:17:11.102 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-11 17:17:11.103 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:17:11.103 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:17:11.103 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[CommentId], [p].[OriginalCommentId], [p].[PostId]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Comment') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:17:11.105 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Discriminator], [p].[IsDeleted], [p].[Text], [p].[UserId], [p].[CommentId], [p].[OriginalCommentId], [p].[PostId]
FROM [PostBase] AS [p]
WHERE ([p].[Discriminator] = N'Comment') AND ([p].[IsDeleted] <> CAST(1 AS bit))
2020-12-11 17:17:11.105 +01:00 [DBG] A data reader was disposed.
2020-12-11 17:17:11.105 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:17:11.105 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 17:17:11.109 +01:00 [INF] Executing ViewResult, running view Filter.
2020-12-11 17:17:11.121 +01:00 [INF] Executed ViewResult - view Filter executed in 13.5193ms.
2020-12-11 17:17:11.121 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Search (Foxxit) in 993.8285ms
2020-12-11 17:17:11.122 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 17:17:11.122 +01:00 [INF] HTTP POST /search responded 200 in 1014.6101 ms
2020-12-11 17:17:11.122 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 17:17:11.124 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 195 - 200 - text/html;+charset=utf-8 1022.9004ms
2020-12-11 17:17:13.024 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/ - -
2020-12-11 17:17:13.030 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 17:17:13.031 +01:00 [INF] Route matched with {action = "Index", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 17:17:13.061 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 17:17:13.064 +01:00 [INF] Executing ViewResult, running view Index.
2020-12-11 17:17:13.067 +01:00 [INF] Executed ViewResult - view Index executed in 4.2283ms.
2020-12-11 17:17:13.068 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Index (Foxxit) in 37.0776ms
2020-12-11 17:17:13.068 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 17:17:13.068 +01:00 [INF] HTTP GET / responded 200 in 38.2512 ms
2020-12-11 17:17:13.069 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 17:17:13.069 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/ - - - 200 - text/html;+charset=utf-8 45.3882ms
2020-12-11 17:17:18.952 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44314/ application/x-www-form-urlencoded 195
2020-12-11 17:17:18.952 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2020-12-11 17:17:18.952 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2020-12-11 17:17:18.952 +01:00 [INF] HTTP POST / responded 405 in 0.3741 ms
2020-12-11 17:17:18.954 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44314/ application/x-www-form-urlencoded 195 - 405 - - 2.7117ms
2020-12-11 17:17:20.813 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/ - -
2020-12-11 17:17:20.813 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 17:17:20.813 +01:00 [INF] Route matched with {action = "Index", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 17:17:20.814 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 17:17:20.817 +01:00 [INF] Executing ViewResult, running view Index.
2020-12-11 17:17:20.823 +01:00 [INF] Executed ViewResult - view Index executed in 5.8972ms.
2020-12-11 17:17:20.823 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Index (Foxxit) in 9.5371ms
2020-12-11 17:17:20.823 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 17:17:20.823 +01:00 [INF] HTTP GET / responded 200 in 10.1196 ms
2020-12-11 17:17:20.824 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 17:17:20.824 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/ - - - 200 - text/html;+charset=utf-8 11.3081ms
2020-12-11 17:17:39.551 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44314/ application/x-www-form-urlencoded 209
2020-12-11 17:17:39.552 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2020-12-11 17:17:39.552 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2020-12-11 17:17:39.552 +01:00 [INF] HTTP POST / responded 405 in 0.2756 ms
2020-12-11 17:17:39.554 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44314/ application/x-www-form-urlencoded 209 - 405 - - 2.3962ms
