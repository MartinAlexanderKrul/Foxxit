2020-12-11 16:37:56.546 +01:00 [INF] Starting web host
2020-12-11 16:37:58.574 +01:00 [FTL] Host terminated unexpectedly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: Foxxit.Services.SearchService Lifetime: Transient ImplementationType: Foxxit.Services.SearchService': Unable to resolve service for type 'Foxxit.Repositories.CommentRepository' while attempting to activate 'Foxxit.Services.SearchService'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Foxxit.Services.SearchService Lifetime: Transient ImplementationType: Foxxit.Services.SearchService': Unable to resolve service for type 'Foxxit.Repositories.CommentRepository' while attempting to activate 'Foxxit.Services.SearchService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Foxxit.Repositories.CommentRepository' while attempting to activate 'Foxxit.Services.SearchService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Foxxit.Program.Main(String[] args) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Program.cs:line 51
2020-12-11 16:39:01.602 +01:00 [INF] Starting web host
2020-12-11 16:39:03.718 +01:00 [DBG] Hosting starting
2020-12-11 16:39:03.789 +01:00 [INF] User profile is available. Using 'C:\Users\MartinAlexander\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-11 16:39:04.407 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 16:39:04.408 +01:00 [INF] Hosting environment: Development
2020-12-11 16:39:04.408 +01:00 [INF] Content root path: C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit
2020-12-11 16:39:04.408 +01:00 [DBG] Hosting started
2020-12-11 16:39:04.482 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/ - -
2020-12-11 16:39:04.657 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:39:04.768 +01:00 [INF] Route matched with {action = "Index", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 16:39:04.984 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 16:39:06.139 +01:00 [DBG] The index {'UserId'} was not created on entity type 'UserSubReddit' as the properties are already covered by the index {'UserId', 'SubRedditId'}.
2020-12-11 16:39:06.140 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2020-12-11 16:39:06.140 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2020-12-11 16:39:06.140 +01:00 [DBG] The index {'MembersId'} was not created on entity type 'SubRedditUser (Dictionary<string, object>)' as the properties are already covered by the index {'MembersId', 'SubRedditsId'}.
2020-12-11 16:39:06.289 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Comment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:39:06.290 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'Post'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:39:06.290 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'UserSubReddit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:39:06.290 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Vote'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:39:06.357 +01:00 [DBG] The property 'CommentId.Comment' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:39:06.357 +01:00 [DBG] The property 'Discriminator.PostBase' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:39:06.357 +01:00 [DBG] The property 'Discriminator.IdentityRole<long>' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:39:06.358 +01:00 [DBG] The property 'MembersId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:39:06.358 +01:00 [DBG] The property 'SubRedditsId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:39:06.603 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 16:39:06.619 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Index (Foxxit) in 1841.928ms
2020-12-11 16:39:06.622 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:39:06.624 +01:00 [ERR] HTTP GET / responded 500 in 1967.1787 ms
System.InvalidOperationException: Unable to resolve service for type 'Foxxit.Services.PostService' while attempting to activate 'Foxxit.Controllers.FoxxitController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method8(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2020-12-11 16:39:06.684 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Foxxit.Services.PostService' while attempting to activate 'Foxxit.Controllers.FoxxitController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method8(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-12-11 16:39:06.800 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 16:39:06.805 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/ - - - 500 - text/html;+charset=utf-8 2326.1368ms
2020-12-11 16:39:07.384 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/favicon.ico - -
2020-12-11 16:39:07.389 +01:00 [INF] HTTP GET /favicon.ico responded 404 in 0.0972 ms
2020-12-11 16:39:07.395 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/favicon.ico - - - 404 - - 7.3930ms
2020-12-11 16:39:58.328 +01:00 [INF] Starting web host
2020-12-11 16:40:00.332 +01:00 [DBG] Hosting starting
2020-12-11 16:40:00.401 +01:00 [INF] User profile is available. Using 'C:\Users\MartinAlexander\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-11 16:40:00.849 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 16:40:00.849 +01:00 [INF] Hosting environment: Development
2020-12-11 16:40:00.849 +01:00 [INF] Content root path: C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit
2020-12-11 16:40:00.849 +01:00 [DBG] Hosting started
2020-12-11 16:40:00.918 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/ - -
2020-12-11 16:40:01.035 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:40:01.119 +01:00 [INF] Route matched with {action = "Index", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 16:40:01.270 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 16:40:02.271 +01:00 [DBG] The index {'UserId'} was not created on entity type 'UserSubReddit' as the properties are already covered by the index {'UserId', 'SubRedditId'}.
2020-12-11 16:40:02.271 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2020-12-11 16:40:02.271 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2020-12-11 16:40:02.271 +01:00 [DBG] The index {'MembersId'} was not created on entity type 'SubRedditUser (Dictionary<string, object>)' as the properties are already covered by the index {'MembersId', 'SubRedditsId'}.
2020-12-11 16:40:02.412 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Comment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:40:02.412 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'Post'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:40:02.413 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'UserSubReddit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:40:02.413 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Vote'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:40:02.481 +01:00 [DBG] The property 'CommentId.Comment' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:40:02.481 +01:00 [DBG] The property 'Discriminator.PostBase' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:40:02.481 +01:00 [DBG] The property 'Discriminator.IdentityRole<long>' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:40:02.481 +01:00 [DBG] The property 'MembersId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:40:02.482 +01:00 [DBG] The property 'SubRedditsId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:40:02.721 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 16:40:02.731 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Index (Foxxit) in 1605.8869ms
2020-12-11 16:40:02.735 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:40:02.740 +01:00 [ERR] HTTP GET / responded 500 in 1702.4626 ms
System.InvalidOperationException: Unable to resolve service for type 'Foxxit.Services.PostService' while attempting to activate 'Foxxit.Controllers.FoxxitController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method8(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2020-12-11 16:40:02.788 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Foxxit.Services.PostService' while attempting to activate 'Foxxit.Controllers.FoxxitController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method8(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-12-11 16:40:02.902 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 16:40:02.913 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/ - - - 500 - text/html;+charset=utf-8 1997.8148ms
2020-12-11 16:40:45.105 +01:00 [INF] Starting web host
2020-12-11 16:40:47.645 +01:00 [DBG] Hosting starting
2020-12-11 16:40:47.768 +01:00 [INF] User profile is available. Using 'C:\Users\MartinAlexander\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-11 16:40:48.330 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 16:40:48.330 +01:00 [INF] Hosting environment: Development
2020-12-11 16:40:48.330 +01:00 [INF] Content root path: C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit
2020-12-11 16:40:48.330 +01:00 [DBG] Hosting started
2020-12-11 16:40:48.426 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/ - -
2020-12-11 16:40:48.655 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:40:48.786 +01:00 [INF] Route matched with {action = "Index", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 16:40:49.040 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 16:40:51.137 +01:00 [DBG] The index {'UserId'} was not created on entity type 'UserSubReddit' as the properties are already covered by the index {'UserId', 'SubRedditId'}.
2020-12-11 16:40:51.137 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2020-12-11 16:40:51.137 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2020-12-11 16:40:51.137 +01:00 [DBG] The index {'MembersId'} was not created on entity type 'SubRedditUser (Dictionary<string, object>)' as the properties are already covered by the index {'MembersId', 'SubRedditsId'}.
2020-12-11 16:40:51.386 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Comment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:40:51.387 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'Post'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:40:51.388 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'UserSubReddit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:40:51.388 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Vote'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:40:51.530 +01:00 [DBG] The property 'CommentId.Comment' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:40:51.531 +01:00 [DBG] The property 'Discriminator.PostBase' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:40:51.531 +01:00 [DBG] The property 'Discriminator.IdentityRole<long>' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:40:51.531 +01:00 [DBG] The property 'MembersId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:40:51.531 +01:00 [DBG] The property 'SubRedditsId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:40:51.932 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 16:40:51.956 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Index (Foxxit) in 3151.3366ms
2020-12-11 16:40:51.960 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:40:51.964 +01:00 [ERR] HTTP GET / responded 500 in 3307.5322 ms
System.InvalidOperationException: Unable to resolve service for type 'Foxxit.Services.SubRedditService' while attempting to activate 'Foxxit.Controllers.FoxxitController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method8(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2020-12-11 16:40:52.034 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Foxxit.Services.SubRedditService' while attempting to activate 'Foxxit.Controllers.FoxxitController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method8(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-12-11 16:40:52.197 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 16:40:52.202 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/ - - - 500 - text/html;+charset=utf-8 3781.6226ms
2020-12-11 16:41:18.353 +01:00 [INF] Starting web host
2020-12-11 16:41:20.597 +01:00 [DBG] Hosting starting
2020-12-11 16:41:20.661 +01:00 [INF] User profile is available. Using 'C:\Users\MartinAlexander\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-11 16:41:21.032 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 16:41:21.033 +01:00 [INF] Hosting environment: Development
2020-12-11 16:41:21.033 +01:00 [INF] Content root path: C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit
2020-12-11 16:41:21.033 +01:00 [DBG] Hosting started
2020-12-11 16:41:21.095 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/ - -
2020-12-11 16:41:21.227 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:41:21.299 +01:00 [INF] Route matched with {action = "Index", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 16:41:21.451 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 16:41:22.436 +01:00 [DBG] The index {'UserId'} was not created on entity type 'UserSubReddit' as the properties are already covered by the index {'UserId', 'SubRedditId'}.
2020-12-11 16:41:22.437 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2020-12-11 16:41:22.437 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2020-12-11 16:41:22.437 +01:00 [DBG] The index {'MembersId'} was not created on entity type 'SubRedditUser (Dictionary<string, object>)' as the properties are already covered by the index {'MembersId', 'SubRedditsId'}.
2020-12-11 16:41:22.571 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Comment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:41:22.572 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'Post'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:41:22.572 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'UserSubReddit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:41:22.572 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Vote'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:41:22.634 +01:00 [DBG] The property 'CommentId.Comment' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:41:22.634 +01:00 [DBG] The property 'Discriminator.PostBase' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:41:22.634 +01:00 [DBG] The property 'Discriminator.IdentityRole<long>' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:41:22.634 +01:00 [DBG] The property 'MembersId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:41:22.634 +01:00 [DBG] The property 'SubRedditsId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:41:22.856 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 16:41:22.915 +01:00 [INF] Executing ViewResult, running view Index.
2020-12-11 16:41:23.123 +01:00 [INF] Executed ViewResult - view Index executed in 209.8858ms.
2020-12-11 16:41:23.127 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Index (Foxxit) in 1826.6575ms
2020-12-11 16:41:23.128 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:41:23.131 +01:00 [INF] HTTP GET / responded 200 in 1903.7766 ms
2020-12-11 16:41:23.139 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 16:41:23.143 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/ - - - 200 - text/html;+charset=utf-8 2052.4619ms
2020-12-11 16:41:39.161 +01:00 [INF] Starting web host
2020-12-11 16:41:41.256 +01:00 [DBG] Hosting starting
2020-12-11 16:41:41.381 +01:00 [INF] User profile is available. Using 'C:\Users\MartinAlexander\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-11 16:41:41.784 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 16:41:41.784 +01:00 [INF] Hosting environment: Development
2020-12-11 16:41:41.784 +01:00 [INF] Content root path: C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit
2020-12-11 16:41:41.784 +01:00 [DBG] Hosting started
2020-12-11 16:41:41.841 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/ - -
2020-12-11 16:41:41.969 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:41:42.051 +01:00 [INF] Route matched with {action = "Index", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 16:41:42.224 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 16:41:43.183 +01:00 [DBG] The index {'UserId'} was not created on entity type 'UserSubReddit' as the properties are already covered by the index {'UserId', 'SubRedditId'}.
2020-12-11 16:41:43.183 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<long>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2020-12-11 16:41:43.183 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<long>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2020-12-11 16:41:43.183 +01:00 [DBG] The index {'MembersId'} was not created on entity type 'SubRedditUser (Dictionary<string, object>)' as the properties are already covered by the index {'MembersId', 'SubRedditsId'}.
2020-12-11 16:41:43.311 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Comment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:41:43.311 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'Post'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:41:43.312 +01:00 [WRN] Entity 'SubReddit' has a global query filter defined and is the required end of a relationship with the entity 'UserSubReddit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:41:43.312 +01:00 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Vote'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2020-12-11 16:41:43.389 +01:00 [DBG] The property 'CommentId.Comment' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:41:43.389 +01:00 [DBG] The property 'Discriminator.PostBase' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:41:43.389 +01:00 [DBG] The property 'Discriminator.IdentityRole<long>' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:41:43.389 +01:00 [DBG] The property 'MembersId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:41:43.389 +01:00 [DBG] The property 'SubRedditsId.SubRedditUser (Dictionary<string, object>)' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 16:41:43.734 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 16:41:43.817 +01:00 [INF] Executing ViewResult, running view Index.
2020-12-11 16:41:44.198 +01:00 [INF] Executed ViewResult - view Index executed in 383.876ms.
2020-12-11 16:41:44.203 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Index (Foxxit) in 2151.6717ms
2020-12-11 16:41:44.205 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Index (Foxxit)'
2020-12-11 16:41:44.211 +01:00 [INF] HTTP GET / responded 200 in 2241.6190 ms
2020-12-11 16:41:44.236 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 16:41:44.243 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/ - - - 200 - text/html;+charset=utf-8 2406.0671ms
2020-12-11 16:41:44.266 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/css/MainStyles.css - -
2020-12-11 16:41:44.319 +01:00 [INF] Sending file. Request path: '/css/MainStyles.css'. Physical path: 'C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\wwwroot\css\MainStyles.css'
2020-12-11 16:41:44.320 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/css/MainStyles.css - - - 200 5587 text/css 53.3660ms
2020-12-11 16:41:44.478 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/assets/logo.png - -
2020-12-11 16:41:44.479 +01:00 [INF] The file /assets/logo.png was not modified
2020-12-11 16:41:44.480 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/assets/logo.png - - - 304 - image/png 2.9000ms
2020-12-11 16:41:44.651 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/assets/search.png - -
2020-12-11 16:41:44.651 +01:00 [INF] The file /assets/search.png was not modified
2020-12-11 16:41:44.652 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/assets/search.png - - - 304 - image/png 0.9246ms
2020-12-11 16:43:32.515 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 195
2020-12-11 16:43:32.560 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 16:43:32.584 +01:00 [INF] Route matched with {action = "Search", controller = "Foxxit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(System.String, System.String) on controller Foxxit.Controllers.FoxxitController (Foxxit).
2020-12-11 16:43:32.628 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-11 16:43:32.820 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => EF.Property<long>(e, "Id") == __p_0)'
2020-12-11 16:43:33.044 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.About (string), 1], [Property: User.AccessFailedCount (int) Required, 2], [Property: User.AvatarURL (string), 3], [Property: User.ConcurrencyStamp (string) Concurrency, 4], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 5], [Property: User.DisplayName (string), 6], [Property: User.Email (string) MaxLength(256), 7], [Property: User.EmailConfirmed (bool) Required, 8], [Property: User.IsDeleted (bool) Required, 9], [Property: User.Karma (int) Required, 10], [Property: User.LockoutEnabled (bool) Required, 11], [Property: User.LockoutEnd (Nullable<DateTimeOffset>), 12], [Property: User.NormalizedEmail (string) Index MaxLength(256), 13], [Property: User.NormalizedUserName (string) Index MaxLength(256), 14], [Property: User.PasswordHash (string), 15], [Property: User.PhoneNumber (string), 16], [Property: User.PhoneNumberConfirmed (bool) Required, 17], [Property: User.SecurityStamp (string), 18], [Property: User.TwoFactorEnabled (bool) Required, 19], [Property: User.UserName (string) MaxLength(256), 20], }
            SELECT TOP(1) a.Id, a.About, a.AccessFailedCount, a.AvatarURL, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsDeleted, a.Karma, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE Not(a.IsDeleted) && (a.Id == @__p_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Foxxit.Database.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-11 16:43:33.103 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 16:43:33.170 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (61ms).
2020-12-11 16:43:33.200 +01:00 [DBG] Opening connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 16:43:35.156 +01:00 [DBG] Opened connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 16:43:35.173 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[About], [a].[AccessFailedCount], [a].[AvatarURL], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsDeleted], [a].[Karma], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ([a].[Id] = @__p_0)
2020-12-11 16:43:35.273 +01:00 [ERR] Failed executing DbCommand (104ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[About], [a].[AccessFailedCount], [a].[AvatarURL], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsDeleted], [a].[Karma], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ([a].[Id] = @__p_0)
2020-12-11 16:43:35.279 +01:00 [DBG] Closing connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 16:43:35.290 +01:00 [DBG] Closed connection to database 'Foxxit' on server '(localdb)\MSSQLLocalDB'.
2020-12-11 16:43:35.346 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Foxxit.Database.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:b00ded68-bd9e-4f82-a26d-a6c031f4daaa
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:b00ded68-bd9e-4f82-a26d-a6c031f4daaa
Error Number:207,State:1,Class:16
2020-12-11 16:43:35.571 +01:00 [INF] Executed action Foxxit.Controllers.FoxxitController.Search (Foxxit) in 2986.9523ms
2020-12-11 16:43:35.572 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.FoxxitController.Search (Foxxit)'
2020-12-11 16:43:35.572 +01:00 [ERR] HTTP POST /search responded 500 in 3012.1793 ms
System.AggregateException: One or more errors occurred. (Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.)
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Foxxit.Controllers.MainController.GetActiveUserAsync() in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Controllers\MainController.cs:line 24
ClientConnectionId:b00ded68-bd9e-4f82-a26d-a6c031f4daaa
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Foxxit.Controllers.FoxxitController.Search(String category, String keyword) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Controllers\FoxxitController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2020-12-11 16:43:35.604 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.)
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Foxxit.Controllers.MainController.GetActiveUserAsync() in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Controllers\MainController.cs:line 24
ClientConnectionId:b00ded68-bd9e-4f82-a26d-a6c031f4daaa
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Foxxit.Controllers.FoxxitController.Search(String category, String keyword) in C:\Users\MartinAlexander\Documents\GitHub\GreenFox\Microtis-Fullstack\Foxxit\Controllers\FoxxitController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-12-11 16:43:35.661 +01:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 16:43:35.662 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44314/search application/x-www-form-urlencoded 195 - 500 - text/html;+charset=utf-8 3149.6081ms
2020-12-11 16:44:26.055 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/account/login - -
2020-12-11 16:44:26.074 +01:00 [INF] Executing endpoint 'Foxxit.Controllers.AccountController.Login (Foxxit)'
2020-12-11 16:44:26.076 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller Foxxit.Controllers.AccountController (Foxxit).
2020-12-11 16:44:26.093 +01:00 [INF] Executing ViewResult, running view Login.
2020-12-11 16:44:26.143 +01:00 [INF] Executed ViewResult - view Login executed in 50.787ms.
2020-12-11 16:44:26.143 +01:00 [INF] Executed action Foxxit.Controllers.AccountController.Login (Foxxit) in 66.9809ms
2020-12-11 16:44:26.143 +01:00 [INF] Executed endpoint 'Foxxit.Controllers.AccountController.Login (Foxxit)'
2020-12-11 16:44:26.143 +01:00 [INF] HTTP GET /account/login responded 200 in 69.8678 ms
2020-12-11 16:44:26.144 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/account/login - - - 200 - text/html;+charset=utf-8 89.2913ms
2020-12-11 16:44:34.828 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/account/register - -
2020-12-11 16:44:34.832 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2020-12-11 16:44:34.832 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2020-12-11 16:44:34.832 +01:00 [INF] HTTP GET /account/register responded 405 in 0.8434 ms
2020-12-11 16:44:34.836 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/account/register - - - 405 - - 7.9269ms
2020-12-11 16:44:39.364 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/account/registration - -
2020-12-11 16:44:39.372 +01:00 [INF] HTTP GET /account/registration responded 404 in 0.0663 ms
2020-12-11 16:44:39.374 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/account/registration - - - 404 - - 9.1363ms
2020-12-11 16:44:43.061 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44314/account/signup - -
2020-12-11 16:44:43.062 +01:00 [INF] HTTP GET /account/signup responded 404 in 0.0150 ms
2020-12-11 16:44:43.064 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44314/account/signup - - - 404 - - 2.5833ms
